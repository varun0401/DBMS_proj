<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Upload Posts</title>
  <link href="../styles.css" rel="stylesheet" type="text/css">
</head>
<nav class="linkedin-navbar">
    
  <img src="data:image/png;base64,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" width=200px
>
<ul class="nav-list">
  <li><a href="/home">Home</a></li>
  <li><a href="/create_rooms">Rooms</a></li>
  <li><a href="/dashboard">Upload Posts</a></li>
  <li><a href="#">Learning</a></li>
</ul>

<div class="user-actions">
  <a href="/profile">My Profile</a>
  <a href="/login">Sign Out</a>
</div>
</nav>
<body>
  <h1>Upload Posts</h1>
  <form id="postForm" enctype="multipart/form-data">
    <div>
      <label for="userId">User ID:</label>
      <input type="text" id="userId" name="userId" required>
    </div>
    <div>
      <label for="content">Content:</label>
      <textarea id="content" name="content" required></textarea>
    </div>
    <div>
      <label for="postImage">Image:</label>
      <input type="file" id="postImage" name="postImage">
    </div>
    <button type="submit">Upload</button>
  </form>

  <div id="message"></div>

  <script>
    document.getElementById('postForm').addEventListener('submit', async (event) => {
      event.preventDefault();

      const formData = new FormData(event.target);

      try {
        const response = await fetch('/upload', {
          method: 'POST',
          body: formData
        });

        if (response.ok) {
          document.getElementById('message').textContent = 'Post uploaded successfully.';
          document.getElementById('postForm').reset();
        } else {
          const errorMessage = await response.text();
          document.getElementById('message').textContent = `Error: ${errorMessage}`;
        }
      } catch (error) {
        console.error('Error uploading post:', error);
        document.getElementById('message').textContent = 'An error occurred. Please try again later.';
      }
    });
  </script>
</body>
</html>
